{"version":3,"sources":["components/Drawer/Drawer.module.scss","components/Card/Card.module.scss","context.js","components/info.jsx","components/Drawer/index.js","components/Header.js","components/Card/index.js","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","App.js","index.js"],"names":["module","exports","AppContext","React","createContext","Info","img","title","description","setCartOpened","useContext","className","src","alt","width","onClick","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","onRemove","items","opened","cartItems","setCartItems","useState","isOrderComplete","setIsOrderComplete","orderId","setOrderId","totalPrice","reduce","sum","obj","price","onClickOrder","a","axios","post","item","data","id","i","length","delete","alert","styles","overlay","overlay__visible","drawer","map","height","imageUrl","Header","props","to","onClickCart","viewBox","fill","xmlns","d","stroke","Card","onFavorite","onPlus","favorited","loading","isFavorite","setIsFavorite","isItemAdded","parentId","speed","backgroundColor","foregroundColor","x","y","rx","ry","card","fav","plus","Home","searchValue","setSearchValue","onChangeSearchInput","onAddToFavorite","onAddToCart","onChange","value","type","placeholder","filter","toLowerCase","includes","index","Favorites","favorites","Orders","orders","setOrders","useEffect","get","prev","App","setItems","setFavorites","cartOpened","all","cartResponse","favoritesResponse","itemsResponse","fetchData","console","log","findItem","find","Number","favObj","Provider","some","error","path","exact","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bb84bf9c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__1ZHne\",\"overlay__visible\":\"Drawer_overlay__visible__37hUX\",\"drawer\":\"Drawer_drawer__3828_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1FtMu\",\"plus\":\"Card_plus__nOesS\",\"fav\":\"Card_fav__1TLOq\"};","import React from 'react';\r\nconst AppContext = React.createContext({});\r\n\r\nexport default AppContext;","import React from 'react'\r\nimport AppContext from '../context';\r\n\r\nconst Info = ({img, title, description}) => {\r\nconst {setCartOpened} = React.useContext(AppContext);\r\n    return (\r\n             <div className=\"drawerClear d-flex flex-column align-center\">\r\n                  <img className=\"mb-20\" src={img} alt=\"Box-clear\" width={120}/>\r\n                  <h3 className=\"mb-10\">{title}</h3>\r\n                  <p className=\"opacity-6 mb-40 text-center\">{description}</p>\r\n                  <button onClick={() => setCartOpened(false)} className=\"cart__btn\">Вернуться назад</button>\r\n              </div>\r\n    )\r\n}\r\n\r\nexport default Info;","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport AppContext from '../../context';\r\nimport Info from '../info';\r\n\r\nimport styles from './Drawer.module.scss';\r\n\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nfunction Drawer({ onClose, onRemove, items = [], opened }) {\r\n  const { cartItems, setCartItems } = React.useContext(AppContext);\r\n  const [isOrderComplete, setIsOrderComplete] = React.useState(false);\r\n  const [orderId, setOrderId] = React.useState(null);\r\n\r\n  const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0);\r\n\r\n  const onClickOrder = async () => {\r\n    try{\r\n      const {data} = await axios.post('https://611230db89c6d00017ac015c.mockapi.io/orders', {\r\n        item: cartItems,\r\n      });\r\n      setOrderId(data.id);\r\n      setIsOrderComplete(true);\r\n      setCartItems([]);\r\n      \r\n      for (let i = 0; i < cartItems.length; i++) {\r\n        const items = cartItems[i];\r\n        await axios.delete('https://611230db89c6d00017ac015c.mockapi.io/cart/' + items.id);\r\n        await delay(1000);\r\n      }\r\n\r\n      } catch (error){\r\n        alert('Не удалось создать заказ');\r\n      }\r\n    };\r\n\r\n    return(\r\n        <div className={`${styles.overlay} ${opened ? styles.overlay__visible : ' ' }`}>\r\n        <div className={styles.drawer}>\r\n            <h2 className=\"d-flex justify-between\">Корзина\r\n            <img onClick={onClose} className=\"removeBtn cu-p\" src=\"img/btn-remove.svg\" alt=\"\" />\r\n            </h2>\r\n\r\n            {/* если есть хоть что то в корзине тогда показываем товары и стоимость если ничего нет \":\" тогда показываем блок корзина пуста */}\r\n          {\r\n            items.length > 0 ? (\r\n              <div className=\"d-flex flex-column justify-between h100p\">\r\n                {/* сама корзина с айтемами  */}\r\n                 <div className=\"items cart mt-40\">\r\n                {items.map((obj) => (\r\n                      <div key={obj.id} className=\"cartItem d-flex align-center mt-20\">\r\n                        <img className=\"mr-15\" width={70} height={70} src={obj.imageUrl} alt=\"Sneakers\" />\r\n                        <div className=\"mr-20\">\r\n                          <p className=\"mb-5\">{obj.title}</p>\r\n                          <b>{obj.price} руб</b>\r\n                        </div>\r\n                        {/*удаление из корзины  передаем анонимную функцию иначе если передать пропс он передаст событие event но не айди товара */}\r\n                        <img onClick={() => onRemove(obj.id)} className=\"removeBtn\" src=\"img/btn-remove.svg\" alt=\"Delete\" />\r\n                    </div>\r\n                ))}\r\n                </div> \r\n\r\n                {/* подвал с ценой */}\r\n                <div className=\"drawer__bottom\">\r\n                  <div className=\"cart__info d-flex\">\r\n                      <p>Итого:</p>\r\n                      <span></span>\r\n                      <b>{totalPrice} руб. </b>\r\n                  </div>\r\n                  <div className=\"cart__info d-flex\">\r\n                      <p>Налог 5%:</p>\r\n                      <span></span>\r\n                      <b>{totalPrice / 100 * 5} руб. </b>\r\n                  </div>\r\n                    <button onClick={onClickOrder} className=\"cart__btn\">Оформить заказ</button>\r\n                 </div>\r\n              </div>\r\n           ):(\r\n            //  блок которой показывается когда корзина пуста\r\n            <Info \r\n            title={isOrderComplete ? \"Заказ оформлен!\" : \"Корзина пуста\"} \r\n            description={isOrderComplete ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке` : \"Добавьте хотя бы одну пару кроссовок, что бы сделать заказ\" } \r\n            img={isOrderComplete ? \"img/cart-ok.png\" : \"img/cart-clear.png\"} />\r\n           )}\r\n          </div>\r\n          </div>\r\n     );\r\n}\r\n\r\nexport default Drawer;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AppContext from '../context';\r\n\r\nfunction Header(props) {\r\n  const { cartItems } = React.useContext(AppContext);\r\n  const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0);\r\n    return(\r\n        <header className=\"header d-flex justify-between\">\r\n        <Link to=\"react-sneakers/\">\r\n            <div className=\"headerLeft d-flex align-center\">\r\n                  <img src=\"img/logo.png\" alt=\"logo\" width={40} height={40}/>\r\n                  <div className=\"headerInfo\">\r\n                    <h3 className=\"text-uppercase\">React Sneakers</h3>\r\n                    <p>Магазин лучших кроссовок</p>\r\n                  </div>\r\n            </div>\r\n        </Link>\r\n        <ul className=\"headerRight d-flex align-center\">\r\n          <li className=\"d-flex mr-30\" onClick={props.onClickCart}> \r\n          <svg className=\"mr-10\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M7.54548 18.1818C7.99735 18.1818 8.36366 17.8155 8.36366 17.3636C8.36366 16.9118 7.99735 16.5455 7.54548 16.5455C7.09361 16.5455 6.72729 16.9118 6.72729 17.3636C6.72729 17.8155 7.09361 18.1818 7.54548 18.1818Z\" stroke=\"#9B9B9B\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            <path d=\"M16.5455 18.1818C16.9973 18.1818 17.3637 17.8155 17.3637 17.3636C17.3637 16.9118 16.9973 16.5455 16.5455 16.5455C16.0936 16.5455 15.7273 16.9118 15.7273 17.3636C15.7273 17.8155 16.0936 18.1818 16.5455 18.1818Z\" stroke=\"#9B9B9B\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            <path d=\"M1 1H4.27273L6.46545 11.9555C6.54027 12.3321 6.7452 12.6705 7.04436 12.9113C7.34351 13.1522 7.71784 13.2801 8.10182 13.2727H16.0545C16.4385 13.2801 16.8129 13.1522 17.112 12.9113C17.4112 12.6705 17.6161 12.3321 17.6909 11.9555L19 5.09091H5.09091\" stroke=\"#9B9B9B\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n            <span>{totalPrice} руб.</span>\r\n          </li>\r\n          <li className=\"mr-30 d-flex\">\r\n            <Link to=\"react-sneakers/favorites\">\r\n              <img width={20} height={20} src=\"img/favoritebtn.svg\" alt=\"Избранные\" />\r\n            </Link>\r\n          </li>\r\n          <li className=\"d-flex\">\r\n            <Link to=\"react-sneakers/orders\">\r\n               <img width={20} height={20} src=\"img/Union.svg\" alt=\"Заказы\" />\r\n            </Link> \r\n          </li>\r\n        </ul>\r\n      </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport styles from './Card.module.scss';\r\nimport AppContext from '../../context';\r\nimport ContentLoader from \"react-content-loader\"\r\n\r\nfunction Card({ id, onFavorite, title, imageUrl, price, onPlus, favorited = false, loading = false}) {\r\n  // const [isAdded, setIsAdded] = React.useState(added);\r\n  const [isFavorite, setIsFavorite] = React.useState(favorited);\r\n  const {isItemAdded} = React.useContext(AppContext);\r\n  const obj = { id, parentId: id, title, imageUrl, price};\r\n\r\n  const onClickPlus = () => {\r\n    onPlus(obj);\r\n    // setIsAdded(!isAdded);\r\n  };\r\n\r\n  const onClickFavorite = () => {\r\n    onFavorite(obj);\r\n    setIsFavorite(!isFavorite);\r\n  }\r\n\r\n  return (\r\n    <li  className=\"products__wrapper\">\r\n      {/* сначала лоадер товаров */}\r\n      {loading ? \r\n      (\r\n        <ContentLoader \r\n          speed={2}\r\n          width={150}\r\n          height={230}\r\n          viewBox=\"0 0 150 230\"\r\n          backgroundColor=\"#f3f3f3\"\r\n          foregroundColor=\"#ecebeb\">\r\n          <rect x=\"-1\" y=\"100\" rx=\"5\" ry=\"5\" width=\"150\" height=\"15\" /> \r\n          <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"150\" height=\"91\" /> \r\n          <rect x=\"0\" y=\"120\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\" /> \r\n          <rect x=\"0\" y=\"197\" rx=\"5\" ry=\"5\" width=\"80\" height=\"25\" /> \r\n          <rect x=\"110\" y=\"197\" rx=\"10\" ry=\"10\" width=\"32\" height=\"32\" />\r\n        </ContentLoader> \r\n      ) : (\r\n            // сами товары\r\n            <article className={styles.card}>\r\n                {onFavorite && <img className={styles.fav} onClick={onClickFavorite} src={isFavorite ? 'img/liked.svg' : 'img/unliked.svg'}/>\r\n                }\r\n                <img className=\"mb-15\" src={imageUrl} alt=\"\" width='100%' height='135px'/>\r\n                <h5 className=\"mb-15\">{title}</h5>\r\n                <div className=\"d-flex justify-between align-center\">\r\n                  <div className=\"d-flex flex-column\">\r\n                    <span>Цена</span>\r\n                    <b>{price}</b>\r\n                  </div>\r\n                   {onPlus &&  <img \r\n                      className={styles.plus} \r\n                      onClick={onClickPlus} \r\n                      src={isItemAdded(id) ? 'img/ok.svg' : 'img/plus.svg'}\r\n                    />\r\n                   }\r\n                </div>\r\n              </article>\r\n          )\r\n      }\r\n     </li>\r\n    \r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from '../components/Card';\r\n\r\nfunction Home({\r\n  items,\r\n  cartItems,\r\n  searchValue, \r\n  setSearchValue, \r\n  onChangeSearchInput, \r\n  onAddToFavorite, \r\n  onAddToCart\r\n}) \r\n{\r\n    return(\r\n        <div className=\"content p-40\">\r\n        <div className=\"d-flex justify-between align-center\">\r\n            {/* Если в инпуте что то есть тогда выводим серчвелью если ничего возвращем все кроссовки */}\r\n           <h1>{searchValue ? `Поиск по запросу: \"${searchValue}\"` : 'Все кроссовки'}</h1>\r\n           <div className=\"search__block\">\r\n                <button className=\"search__btn\">\r\n                  <img src=\"img/search.svg\" alt=\"Search\" />\r\n                </button>\r\n                {/* если есть пеменная серчвелью только тогда отображать кнопку */}\r\n                {searchValue && <img onClick={() => setSearchValue ('')} className=\"clearr cu-p\" src=\"img/btn-remove.svg\" alt=\"Clear\" />}\r\n                <input onChange={onChangeSearchInput} value={searchValue} className=\"search__input\" type=\"text\" placeholder=\"Поиск...\"/>\r\n           </div>\r\n        </div>\r\n          <ul  className=\"products mt-40\">\r\n            {/* .filter фильтрует все что находится в айтем по названию, toLowerCase() переводит названия в нижний регистр .includes извлекает из серчвелью */}\r\n          {items\r\n          .filter(item => item.title.toLowerCase().includes(searchValue.toLowerCase()))\r\n          .map((item, index) => (\r\n              <Card\r\n                key={index}\r\n                id={item.id}\r\n                title={item.title}\r\n                price={item.price}\r\n                imageUrl={item.imageUrl}\r\n                onFavorite={(obj) => onAddToFavorite(obj)}\r\n                onPlus={(obj) => onAddToCart(obj)}\r\n                loading={false}\r\n                \r\n              />\r\n          ))}\r\n          </ul>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport Card from '../components/Card';\r\nimport AppContext from '../context';\r\n\r\nfunction Favorites({onAddToFavorite,onAddToCart}) {\r\n  const {favorites} = React.useContext(AppContext);\r\n  const {isItemAdded} = React.useContext(AppContext);\r\n\r\n    return(\r\n        <div className=\"content p-40\">\r\n        <div className=\"d-flex justify-between align-center\">\r\n            {/* Если в инпуте что то есть тогда выводим серчвелью если ничего возвращем все кроссовки */}\r\n           <h1>Мои закладки</h1>\r\n        </div>\r\n          <div>Тут будут мои закладки</div>\r\n          <ul  className=\"products mt-40\">\r\n            {/* .filter фильтрует все что находится в айтем по названию toLowerCase() переводит названия в нижний регистр .includes извлекает из серчвелью */}\r\n            {favorites.map((item, index) => (\r\n              <Card\r\n                key={index}\r\n                id={item.id}\r\n                title={item.title}\r\n                price={item.price}\r\n                imageUrl={item.imageUrl}\r\n                favorited={true}\r\n                onFavorite={onAddToFavorite}\r\n                onPlus={(obj) => onAddToCart(obj)}\r\n              />\r\n          ))}\r\n          </ul>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Favorites;","import React from 'react';\r\nimport axios from 'axios';\r\nimport Card from '../components/Card';\r\nimport AppContext from '../context';\r\n\r\n\r\nfunction Orders() {\r\n    const {onAddToFavorite, onAddToCart} = React.useContext(AppContext);\r\n    const [orders, setOrders] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const {data} = await axios.get('https://611230db89c6d00017ac015c.mockapi.io/orders/');\r\n                setOrders(data.reduce((prev, obj) => [ ...prev, ...obj.item], []));   \r\n            } catch (error) {\r\n                alert('Ошибка');\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    return(\r\n        <div className=\"content p-40\">\r\n        <div className=\"d-flex justify-between align-center\">\r\n            {/* Если в инпуте что то есть тогда выводим серчвелью если ничего возвращем все кроссовки */}\r\n           <h1>Мои заказы</h1>\r\n        </div>\r\n          <div>Тут будут мои заказы</div>\r\n          <ul  className=\"products mt-40\">\r\n            {orders.map((item, index) => (\r\n                <Card\r\n                    key={index}\r\n                    id={item.id}\r\n                    title={item.title}\r\n                    price={item.price}\r\n                    imageUrl={item.imageUrl}\r\n                />\r\n            ))}\r\n          </ul>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Orders;","import React from 'react';\nimport axios from 'axios';\nimport { Route } from 'react-router-dom';\nimport Drawer from './components/Drawer';\nimport Header from './components/Header';\nimport Home from './pages/Home'; \nimport Favorites from './pages/Favorites'; \nimport Orders from './pages/Orders';\nimport AppContext from './context';\n\n\n\n\nfunction App() {\n  const [items, setItems] = React.useState([]);\n  const [cartItems, setCartItems] = React.useState([]);\n  const [favorites, setFavorites] = React.useState([]);\n  const [searchValue, setSearchValue] = React.useState('');\n  const [cartOpened, setCartOpened] = React.useState(false);\n\n\n  // при первом рендере отправляе два запроса на получение всех айтемо и второй запрос на получение корзины запросы выполняются параллельно \n  React.useEffect(() => {\n    async function fetchData() {\n      try {\n        const [cartResponse, favoritesResponse, itemsResponse] = await Promise.all([\n          await axios.get('https://611230db89c6d00017ac015c.mockapi.io/cart'),\n          await axios.get('https://611230db89c6d00017ac015c.mockapi.io/favorites'),\n          await axios.get('https://611230db89c6d00017ac015c.mockapi.io/item'),\n        ]); \n        \n        // const cartResponse = await axios.get('https://611230db89c6d00017ac015c.mockapi.io/cart');\n        // const favoritesResponse = await axios.get('https://611230db89c6d00017ac015c.mockapi.io/favorites');\n        // const itemsResponse = await axios.get('https://611230db89c6d00017ac015c.mockapi.io/item');\n  \n        setCartItems(cartResponse.data);\n        setFavorites(favoritesResponse.data);\n        setItems(itemsResponse.data);\n      } catch (error) {\n        alert('Ошибка при запросе данных');\n      }\n    }\n\n    fetchData();\n\n    // // fetch('https://611230db89c6d00017ac015c.mockapi.io/item')\n    // //   .then((res) => {\n    // //     return res.json();\n    // //   })\n    // //   .then((json) => {\n    // //     setItems(json);\n    // //   });\n    //   axios.get('https://611230db89c6d00017ac015c.mockapi.io/item').then((res) => {\n    //     setItems(res.data);\n    //   });\n    //   axios.get('https://611230db89c6d00017ac015c.mockapi.io/cart').then((res) => {\n    //     setCartItems(res.data);\n    //   });\n    //   axios.get('https://611230db89c6d00017ac015c.mockapi.io/favorites').then((res) => {\n    //     setFavorites(res.data);\n    //   });\n  }, []);\n\n\n  const onAddToCart = async (obj) => {\n    console.log(obj);\n    try {\n         // если в корзине нашелся хотя бы один объект  у которого такой же айди как у обжект айди\n         const findItem = cartItems.find((item) => Number(item.parentId) == Number(obj.id));\n      if (findItem) {\n        // то замени стейт, отфильтруй его на: если хотя бы в одном объекте есть обжект айди то исключи его из массива\n        setCartItems((prev) => prev.filter((item) => Number(item.parentId) !== Number(obj.id)));\n        await axios.delete(`https://611230db89c6d00017ac015c.mockapi.io/cart/${findItem.id}`);\n      } else {\n        await axios.post('https://611230db89c6d00017ac015c.mockapi.io/cart', obj);\n        setCartItems((prev) => [...prev, obj]);\n      }\n    } catch (error) {\n      alert('Ошибка при запросе данных');\n    }\n  };\n\n  const onRemoveItem = (id) => {\n    try {\n      axios.delete(`https://611230db89c6d00017ac015c.mockapi.io/cart/${id}`);\n      // дай мне предыдущий массив, пройдись по нему и отфильтруй айди тот который передан в функции\n      setCartItems((prev) => prev.filter(item => item.id !== id));\n    } catch (error) {\n      alert('Ошибка при удалении из корзины');\n    }\n  };\n\n  //избранные\n  // метод async прочитать \n  // когда используем async await нужно все обернуть в try catch ПРОЧИТАТЬ ПРО ЭТО (нужно для того что бы отловить ошибку)\n  const onAddToFavorite = async (obj) => {\n  try{\n      if (favorites.find((favObj) => favObj.id == obj.id)) {\n        axios.delete(`https://611230db89c6d00017ac015c.mockapi.io/favorites/${obj.id}`);\n      } else {\n        const { data } = await axios.post('https://611230db89c6d00017ac015c.mockapi.io/favorites', obj);\n        setFavorites((prev) => [...prev, data]);\n      } \n  } catch (error) {\n    alert('Не удалось добавить в избранное');\n  }\n  };\n\n  // Поиск\n  const onChangeSearchInput = (event) => {\n    setSearchValue(event.target.value);\n  };\n\n  const isItemAdded = (id) => {\n    return cartItems.some((obj) => Number(obj.parentId) == Number(id));\n  };\n\n  return (\n    <AppContext.Provider value={{ items, cartItems, favorites, isItemAdded, onAddToFavorite, onAddToCart, setCartOpened, setCartItems}}> \n       <div className=\"wrapper clear\">\n       <Drawer \n          items={cartItems}\n          onClose={() => setCartOpened(false)} \n          onRemove={onRemoveItem}\n          opened={cartOpened}\n        />\n      <Header onClickCart={() => setCartOpened(true)}/>\n\n      {/* свойство exact делает переход строгим и будет отборажать внутри тега только страницу хоум */}\n      <Route path=\"react-sneakers/\" exact>  \n        <Home \n          items={items}\n          searchValue={searchValue}\n          setSearchValue={setSearchValue}\n          onChangeSearchInput={onChangeSearchInput}\n          onAddToFavorite={onAddToFavorite}\n          onAddToCart={onAddToCart}\n          cartItems={cartItems}\n        />\n      </Route>\n      <Route path=\"react-sneakers/favorites\" exact>  \n        <Favorites \n          onAddToCart={onAddToCart}\n          onAddToFavorite={onAddToFavorite}\n        />\n      </Route>\n      <Route path=\"react-sneakers/orders\" exact>\n          <Orders />\n      </Route>\n    </div>\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\n\n\nimport './index.scss';\nimport 'macro-css';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}